<!-- templates/index1.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis</title>
    <!-- Use Flask's url_for to properly reference static files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</head>
<body>
    <!-- Navbar -->
    </nav>
        <a href="{{ url_for('home') }}">Home</a> |
        <a href="{{ url_for('stats') }}">Statistics</a>
    </nav>


    <h1>Sentiment Analysis of Reviews</h1>
    <p>Write anything you want, and we will tell you how you feel!</p>
    <form action="/predict" method="post">
        <label for="review">Enter a Review:</label><br><br>
        <textarea name="Review" rows="4" cols="50"></textarea><br><br>
        <input type="submit" value="Submit">
    </form>
   
    {% if prediction_text %}
        <h2>{{ prediction_text }}</h2>
        <div class="quote-section">
            <h3>Quote:</h3>
            <h2 id="quote">{{ quote_text }}</h2>
        </div>
     
        <div>
            <button id="like-btn" onclick="submitFeedback('like')">üëç Like</button>
           
            <button id="dislike-btn" onclick="submitFeedback('dislike')">üëé Dislike</button>
        </div>


        <h2>A playlist for you:</h2>
        <h3>www.playlist.com</h3>
    {% endif %}
   


    <script>
        // Function for getting a new quote after a like/dislike
        function submitFeedback(action) {
            fetch('/new-quote', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    action: action
                })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('quote').textContent = data.new_quote;
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>